---
layout: post
title: "다음 순열(백트래킹)"
author: "asadal"
tags: ["python", "파이썬", "백트래킹", "순열", "permutations"]
comments: true
---

`itertools` 라이브러리의 `permutations`, `combinations`, `product` 함수를 이용하면 간단히 순열과 조합을 구성할 수 있다. 하지만 시간복잡도 때문에 문제 풀이에서 십중팔구 시간초과가 나게 마련. 순열을 구하는 기본 탐색 방법인 백트래킹을 익혀두는 게 좋다.

```python
#10972. 다음 순열. (참조: https://hooongs.tistory.com/201)
n = int(input()) # 5
num = list(map(int, input().split())) # [1, 2, 5, 3, 4]

k = -1

# 1. k의 최대값 구하기
for i in range(n-1):
  if num[i] < num[i+1]: # 마지막 오름차순 숫자 바로 앞 숫자(3)의 인덱스가 k(3).
    k = i # k = 3

if k == -1: # 전체가 내림차순으로 정렬돼 있는 경우
  print('-1') # '-1'을 출력
else:
  # 2. m의 최대값 구하기
  for j in range(k+1, n): # 내림차순이 시작되는 숫자(5)부터 끝까지 탐색. 
    if num[k] < num[j]: # 인덱스 k의 값(3)보다 큰 숫자 중 가장 끝에 있는 숫자(4).
      m = j # 해당 숫자(4)의 인덱스 값이 m(4).
  # 3. k와 m의 값 바꾸기
  num[k], num[m] = num[m], num[k] # 3과 4의 위치를 바꿈

  # 4. k(4) 이후 정렬.
  tmp = sorted(num[k+1:])
  res = num[:k+1] + tmp # [1, 2, 5, 4] + [3]
  print(*res) # 1 2 5 4 3
```

[[문제 보기](https://www.acmicpc.net/problem/10972)]