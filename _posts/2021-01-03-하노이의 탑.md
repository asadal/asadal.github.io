---

layout: post

title: "백준 11729 - 하노이의 탑"

author: "asadal"

tags: ["python", "파이썬", "백준", "재귀", "하노이의 탑", "Tower of Hanoi"]

comments: true

---

##### 문제

>세 개의 장대가 있고 첫 번째 장대에는 반경이 서로 다른 n개의 원판이 쌓여 있다. 각 원판은 반경이 큰 순서대로 쌓여있다. 이제 수도승들이 다음 규칙에 따라 첫 번째 장대에서 세 번째 장대로 옮기려 한다.
>
>1. 한 번에 한 개의 원판만을 다른 탑으로 옮길 수 있다.
>2. 쌓아 놓은 원판은 항상 위의 것이 아래의 것보다 작아야 한다.
>
>이 작업을 수행하는데 필요한 이동 순서를 출력하는 프로그램을 작성하라. 단, 이동 횟수는 최소가 되어야 한다.
>
>아래 그림은 원판이 5개인 경우의 예시이다.
>
>![하노이의 탑](https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/11729/hanoi.png)

##### 입력

> 첫째 줄에 첫 번째 장대에 쌓인 원판의 개수 N (1 ≤ N ≤ 20)이 주어진다.

##### 출력

> 첫째 줄에 옮긴 횟수 K를 출력한다.
>
> 두 번째 줄부터 수행 과정을 출력한다. 두 번째 줄부터 K개의 줄에 걸쳐 두 정수 A B를 빈칸을 사이에 두고 출력하는데, 이는 A번째 탑의 가장 위에 있는 원판을 B번째 탑의 가장 위로 옮긴다는 뜻이다.

재귀 함수를 이용해 문제를 풀어야 한다. 재귀 함수는 아직도 이해하기 어렵다. 비슷한 문제를 더 많이 풀어봐야 할 듯.

하노이의 탑 원리는 따지고 보면 간단하다. 맨 밑의 원판이 남을 때까지 위쪽 원판을 경유 탑(b)으로 옮겨야 한다. 이제 맨 밑의 원판을 목적 탑(c)으로 옮긴 다음, 경유 탑에 있던 원판들을 다시 목적 탑(c)으로 옮긴다. 원판이 몇 개든, 이 과정은 똑같이 반복된다. 원판이 1개일 때를 빼만 예외다.

이를 재귀 함수로 설계해보면 다음과 같다.

```python
def 하노이의 탑(원판 수, 출발지, 경유지, 목적지):
  if 원판 수 == 1:
    print(출발지, 목적지)
	else:
    하노이의 탑(원판 수 - 1, 출발지, 목적지, 경유지)
    print(출발지, 목적지)
    하노이의 탑(원판 수 - 1, 경유지, 출발지, 목적지)
```

설계도가 만들어졌으니, 코드로 구현한다.

```python
def hanoi(n, a, b, c):
    if n == 1:
        print(a, c)
    else:
        hanoi(n-1, a, c, b)
        print(a, c)
        hanoi(n-1, b, a, c)
n = int(input())
print(2**n - 1)
hanoi(n, 1, 2, 3)
```

구현은 됐지만, 아직도 어렵다. 더 공부를!

>참조 : https://shoark7.github.io/programming/algorithm/tower-of-hanoi

[[문제 보기](https://www.acmicpc.net/problem/11729)]
